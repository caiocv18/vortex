# Test configuration
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;INIT=CREATE SCHEMA IF NOT EXISTS AUTH
quarkus.datasource.jdbc.driver=org.h2.Driver
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.sql-load-script=import.sql

# Password policy for tests
auth.password.min-length=8
auth.password.max-length=128
auth.password.require-uppercase=true
auth.password.require-lowercase=true
auth.password.require-numbers=true
auth.password.require-special-chars=true
auth.password.special-chars=!@#$%^&*()_+-=[]{}|;:,.<>?

# JWT configuration for tests - disable verification for integration tests
smallrye.jwt.sign.key.location=test-rsa-key.pem
mp.jwt.verify.issuer=https://vortex-test.com
# Disable JWT verification for integration tests
quarkus.smallrye-jwt.enabled=false

# Logging
quarkus.log.level=INFO
quarkus.log.category."br.com.vortex.authorization".level=DEBUG

# Disable messaging for unit tests (will be mocked)
quarkus.smallrye-reactive-messaging.kafka.enabled=false
quarkus.smallrye-reactive-messaging.rabbitmq.enabled=false

# Disable dev services 
quarkus.devservices.enabled=false
quarkus.kafka.devservices.enabled=false
quarkus.datasource.devservices.enabled=false

# Messaging configuration
auth.messaging.enabled=false
auth.events.enabled=true
auth.events.async=false

# Rate limiting configuration
auth.rate-limit.enabled=true
auth.rate-limit.login.max-attempts=5
auth.rate-limit.login.window-minutes=15