# Application
quarkus.application.name=vortex-auth-service
quarkus.http.port=8081

# Database - compatível com sistema atual
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:vortex_auth;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true

# OIDC Providers
quarkus.oidc.google.provider=google
quarkus.oidc.google.client-id=${GOOGLE_CLIENT_ID:placeholder}
quarkus.oidc.google.credentials.secret=${GOOGLE_CLIENT_SECRET:placeholder}
quarkus.oidc.google.authentication.redirect-path=/auth/callback/google

quarkus.oidc.github.provider=github
quarkus.oidc.github.client-id=${GITHUB_CLIENT_ID:placeholder}
quarkus.oidc.github.credentials.secret=${GITHUB_CLIENT_SECRET:placeholder}
quarkus.oidc.github.authentication.redirect-path=/auth/callback/github

# JWT
mp.jwt.verify.publickey.location=META-INF/resources/publickey.pem
mp.jwt.verify.issuer=${JWT_ISSUER:https://auth.vortex.com.br}
smallrye.jwt.sign.key.location=META-INF/resources/privatekey.pem
mp.jwt.verify.audiences=${JWT_AUDIENCE:vortex-system}

# CORS - compatível com frontend React + Vite
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://localhost:5173,http://localhost:4173,http://127.0.0.1:3000,http://127.0.0.1:5173,http://127.0.0.1:4173
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=authorization

# Email Configuration
quarkus.mailer.from=${MAIL_FROM:noreply@vortex.com.br}
quarkus.mailer.host=${MAIL_HOST:smtp.gmail.com}
quarkus.mailer.port=${MAIL_PORT:587}
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.username=${MAIL_USERNAME:}
quarkus.mailer.password=${MAIL_PASSWORD:}

# Password Reset
auth.password-reset.token-expiry-minutes=30
auth.password-reset.base-url=${FRONTEND_URL:http://localhost:5173}

# Security
auth.password.min-length=8
auth.password.require-special-chars=true
auth.password.require-numbers=true
auth.password.require-uppercase=true

# Kafka (integração com sistema existente)
kafka.bootstrap.servers=${KAFKA_SERVERS:localhost:9092}
mp.messaging.outgoing.auditoria.connector=smallrye-kafka
mp.messaging.outgoing.auditoria.topic=vortex.auditoria
mp.messaging.outgoing.auditoria.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.auditoria.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer

# Health checks
quarkus.health.extensions.enabled=true
quarkus.health.openapi.included=true

# Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.registry-enabled-default=true

# Logging - compatível com sistema atual
quarkus.log.level=INFO
quarkus.log.category."br.com.vortex.login".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n